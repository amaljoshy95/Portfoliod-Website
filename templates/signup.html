<!DOCTYPE html>

<html
    lang="en">

<head>

    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />

    <title>Login</title>

    <meta name="description" content="Register in the website" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../static/assets/img/favicon/favicon.ico" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />

    <!-- Icons. Uncomment required icon fonts -->
    <link rel="stylesheet" href="../static/assets/vendor/fonts/boxicons.css" />

    <!-- Core CSS -->
    <link rel="stylesheet" href="../static/assets/vendor/css/core.css" class="template-customizer-core-css" />
    <link rel="stylesheet" href="../static/assets/vendor/css/theme-default.css" class="template-customizer-theme-css" />
    <link rel="stylesheet" href="../static/assets/css/demo.css" />

    <!-- Vendors CSS -->
    <link rel="stylesheet" href="../static/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css" />

    <!-- Page CSS -->

    <!-- Helpers -->
    <script src="../static/assets/vendor/js/helpers.js"></script>

    <!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
    <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
    <script src="../static/assets/js/config.js"></script>

</head>

<body>
  <div class="d-flex justify-content-center align-items-center vh-100 bg-light">
    <div class="card shadow-lg border-0 rounded-4" style="width: 380px;">
      <div class="card-body p-4">
        <h3 class="text-center mb-4 fw-bold text-primary">p◉rtf◉li◉id</h3>

        <div class="text-center mt-3 mb-0" style="color:darkslateblue">{{message}}</div>

        <form action="/signup" method="post" id="signupForm">
          <!-- Username -->
          <div class="mb-3">
            <label for="username" class="form-label">Username</label>
            <input
              type="text"
              id="username"
              name="username"
              class="form-control form-control-lg"
              placeholder="Choose a username"
              required
            />
          </div>

          <!-- Password -->
          <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input
              type="password"
              id="password"
              name="password"
              class="form-control form-control-lg"
              placeholder="Create a password"
              required
            />
          </div>

          <!-- Confirm Password -->
          <div class="mb-3">
            <label for="confirm_password" class="form-label">Confirm Password</label>
            <input
              type="password"
              id="confirm_password"
              name="confirm_password"
              class="form-control form-control-lg"
              placeholder="Re-enter your password"
              required
            />
            <!-- Feedback message -->
            <div id="passwordHelp" class="form-text"></div>
          </div>

          <!-- Signup button -->
          <div class="d-grid">
            <button type="submit" class="btn btn-primary btn-lg rounded-pill">
              Sign Up
            </button>
          </div>
        </form>

        <!-- Extra options -->
        <p class="text-center mt-3 mb-0">
          Already have an account?
          <a href="/login" class="fw-semibold text-primary text-decoration-none">Login</a>
        </p>
      </div>
    </div>
  </div>

  <script>
    const password = document.getElementById("password");
    const confirmPassword = document.getElementById("confirm_password");
    const passwordHelp = document.getElementById("passwordHelp");
    const form = document.getElementById("signupForm");

    function checkPasswords() {
      if (confirmPassword.value === "") {
        confirmPassword.classList.remove("is-valid", "is-invalid");
        passwordHelp.textContent = "";
        return;
      }

      if (password.value === confirmPassword.value) {
        confirmPassword.classList.add("is-valid");
        confirmPassword.classList.remove("is-invalid");
        passwordHelp.textContent = "Passwords match ✅";
        passwordHelp.style.color = "green";
      } else {
        confirmPassword.classList.add("is-invalid");
        confirmPassword.classList.remove("is-valid");
        passwordHelp.textContent = "Passwords do not match ❌";
        passwordHelp.style.color = "red";
      }
    }

    password.addEventListener("input", checkPasswords);
    confirmPassword.addEventListener("input", checkPasswords);

    // Prevent form submission if passwords don't match
    form.addEventListener("submit", function (e) {
      if (password.value !== confirmPassword.value) {
        e.preventDefault();
        confirmPassword.focus();
      }
    });
  </script>
</body>


</html>